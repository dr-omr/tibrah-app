
interface HealthContext {
    sleep?: number;
    water?: number;
    mood?: number;
    stress?: number;
    energy?: number;
}

export const getFallbackAdvice = (context: HealthContext): string => {
    const warnings: string[] = [];
    const tips: string[] = [];

    // Sleep Analysis
    if (context.sleep !== undefined) {
        if (context.sleep < 5) {
            warnings.push("ูููู ูุงู ูููู ุฌุฏุงู ูุง ุบุงูู");
            tips.push("ุฌุฑุจ ูููููุฉ ูุตูุฑุฉ (Power Nap) ููุฏุฉ 20 ุฏูููุฉุ ูุงุณุชูุน ูุชุฑุฏุฏุงุช 'ุฏูุชุง' ูุจู ุงูููู ุงููููุฉ.");
        } else if (context.sleep < 7) {
            tips.push("ุญุงูู ุชุฒูุฏ ุณุงุนุงุช ูููู ุงููููุฉ ุนุดุงู ุฌุณูู ููุญู ูุนูู ุตูุงูุฉ ูุชุฑููู.");
        }
    }

    // Water Analysis
    if (context.water !== undefined) {
        if (context.water < 4) {
            warnings.push("ุฌุณูู ูุญุชุงุฌ ูุงุก ุฃูุซุฑ");
            tips.push("ุงูุฌูุงู ูุณุจุจ ุตุฏุงุน ูุชุนุจ. ุฎุฐ ูู ููุจูู ูุงุก ุฏุงูู ุงูุขู ูุน ุนุตุฑุฉ ููููู.");
        }
    }

    // Stress Analysis
    if (context.stress !== undefined) {
        if (context.stress > 3) {
            warnings.push("ูุณุชูู ุงูุชูุชุฑ ุนูุฏู ูุฑุชูุน");
            tips.push("ูุง ุชุถุบุท ุนูู ููุณู. ุฌุฑุจ ุชูุงุฑูู ุงูุชููุณ (4-7-8) ูู ุงูุชุทุจููุ ุจุชุนูู ูุฑู ูุจูุฑ ูู ุฏูููุชูู.");
        }
    }

    // Mood Analysis
    if (context.mood !== undefined) {
        if (context.mood < 3) {
            tips.push("ุจูุง ุฃู ุงููุฒุงุฌ ูุด ููุง ุจุฏุ ุงูุด ุฑุฃูู ุชุชูุดู ุดููุฉ ูู ุงูุดูุณุ ููุชุงููู ุฏ ุจูุนุฏู ุงููุฒุงุฌ.");
        }
    }

    // Construct Response
    if (warnings.length === 0 && tips.length === 0) {
        return "ุฃููุฑู ุทูุจุฉ ูุง ุดุงุก ุงููู! ุงุณุชูุฑ ุนูู ูุฐุง ุงููููุงูุ ููุง ุชูุณู ูุฑุฏู ุงููููู ูู ุงูุฃุฐูุงุฑ ูุงูุฑุงุญุฉ.";
    }

    const opening = warnings.length > 0
        ? `ูุงุญุธุช ${warnings.join(' ู ')}.. ุณูุงูุชู!`
        : "ุญุจูุช ุฃุฐูุฑู ุจุดู ุจุณูุท:";

    return `${opening}\n\n๐ก ูุตูุญุชู ูู:\n${tips.join('\n')}\n\nูุฏูุช ุจุตุญุฉ ูุนุงููุฉ ๐ฟ`;
};

export const getGeneralResponse = (message: string): string => {
    if (message.includes('ุญุฒ')) return "ูุชูุณูู ุงูุญุฌุฒุ ููุถู ุชุชูุงุตู ูุงุชุณุงุจ ูุจุงุดุฑุฉ ูุถูุงู ุงูููุนุฏ: 967771447111";
    if (message.includes('ูููุน') || message.includes('ุนููุงู')) return "ูุญู ุนูุงุฏุฉ ุฑูููุฉ (ุฃูููุงูู) ูุฎุฏูู ููู ูุง ููุช!";
    if (message.includes('ุณุนุฑ') || message.includes('ุชูููุฉ')) return "ุงูุฌูุณุฉ ุงูุชุดุฎูุตูุฉ ุณุนุฑูุง ุฑูุฒู (25 ุฑูุงู ุณุนูุฏู) ุดุงููุฉ ุงูุฎุทุฉ ุงูุนูุงุฌูุฉ.";

    return "ุญูุงู ุงููู ูุง ุบุงูู! ุฃูุง ูุณุงุนุฏ ุทูุจุฑูุงุ ุฃูุฏุฑ ุฃุนุทูู ูุตุงุฆุญ ุนุงูุฉ ุจูุงุกู ุนูู ุตุญุชู ุงููุณุฌูุฉุ ููู ููุฃููุฑ ุงูุทุจูุฉ ุงูุฏูููุฉ ุฃูุตุญู ุจุญุฌุฒ ุงุณุชุดุงุฑุฉ ูุน ุงูุฏูุชูุฑ ุนูุฑ.";
};
